<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HSEC1242SP"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-HSEC1242SP');
    </script>
    
    <!-- Google Consent Mode - Default Settings -->
    <script>
        // Define dataLayer and the gtag function.
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}

        // Set default consent to 'denied' as a placeholder
        // Determine actual values based on your own requirements
        gtag('consent', 'default', {
          'ad_storage': 'denied',
          'ad_user_data': 'denied',
          'ad_personalization': 'denied',
          'analytics_storage': 'denied'
        });
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-adsense-account" content="ca-pub-3026521456856935">
    <title>Unir PDFs - Juntar e Compactar PDFs Online | LinkZin</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Unir PDFs online gratuitamente. Junte múltiplos arquivos PDF em um só documento. Ferramenta segura, rápida e fácil de usar. Sem cadastro necessário.">
    <meta name="keywords" content="unir pdfs, juntar pdfs, combinar pdfs, mesclar pdfs, compactar pdf, pdf online, ferramenta pdf, linkzin">
    <meta name="author" content="LinkZin">
    <meta name="robots" content="index, follow">
    <meta name="language" content="pt-BR">
    <meta name="revisit-after" content="7 days">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Unir PDFs - Juntar e Compactar PDFs Online | LinkZin">
    <meta property="og:description" content="Unir PDFs online gratuitamente. Junte múltiplos arquivos PDF em um só documento. Ferramenta segura, rápida e fácil de usar.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://linkzinencurtador.online/unir-pdfs/">
    <meta property="og:site_name" content="LinkZin">
    <meta property="og:locale" content="pt_BR">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Unir PDFs - Juntar e Compactar PDFs Online | LinkZin">
    <meta name="twitter:description" content="Unir PDFs online gratuitamente. Junte múltiplos arquivos PDF em um só documento. Ferramenta segura, rápida e fácil de usar.">
    
    <link rel="canonical" href="https://linkzinencurtador.online/pdf-tools.html">
    
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Unir PDFs - LinkZin",
      "description": "Ferramenta online gratuita para unir e compactar arquivos PDF. Junte múltiplos documentos em um só arquivo de forma segura e rápida.",
      "url": "https://linkzinencurtador.online/pdf-tools.html",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "BRL"
      },
      "provider": {
        "@type": "Organization",
        "name": "LinkZin",
        "url": "https://linkzinencurtador.online"
      },
      "featureList": [
        "Unir múltiplos PDFs",
        "Compactar arquivos PDF",
        "Reordenar páginas",
        "Processamento local seguro"
      ]
    }
    </script>
    
    <!-- Favicon Configuration -->
    <link rel="icon" type="image/x-icon" href="https://linkzinencurtador.online/favicon.ico">
    <link rel="icon" type="image/png" href="https://linkzinencurtador.online/favicon.png">
    <link rel="shortcut icon" href="https://linkzinencurtador.online/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="https://linkzinencurtador.online/favicon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://linkzinencurtador.online/favicon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://linkzinencurtador.online/favicon.png">
    
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- PDF.js para processamento de PDFs -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3026521456856935"
     crossorigin="anonymous"></script>
    
    <!-- PROTEÇÃO ANTI-COPY - CARREGAMENTO PRIORITÁRIO -->
    <script src="protection.js"></script>
    
    <style>
        /* Estilos específicos para PDF Tools */
        .pdf-tools-hero {
            background: linear-gradient(135deg, var(--primary-blue) 0%, #1a2a5f 100%);
            color: var(--white);
            padding: 4rem 0;
            text-align: center;
            min-height: 60vh;
            display: flex;
            align-items: center;
        }

        .pdf-tools-title {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .pdf-tools-subtitle {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .pdf-tools-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .pdf-tools-card {
            background: var(--white);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 3rem;
            margin: -5rem auto 3rem;
            position: relative;
            z-index: 10;
        }

        .upload-area {
            border: 3px dashed var(--light-gray);
            border-radius: 15px;
            padding: 3rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            background: var(--light-gray);
            margin-bottom: 2rem;
        }

        .upload-area:hover {
            border-color: var(--primary-yellow);
            background: rgba(255, 204, 0, 0.1);
        }

        .upload-area.dragover {
            border-color: var(--primary-blue);
            background: rgba(10, 26, 63, 0.1);
        }

        .upload-icon {
            font-size: 4rem;
            color: var(--primary-blue);
            margin-bottom: 1rem;
        }

        .upload-text {
            font-size: 1.2rem;
            color: var(--gray);
            margin-bottom: 1rem;
        }

        .upload-subtext {
            font-size: 0.9rem;
            color: var(--gray);
            opacity: 0.8;
        }

        .file-input {
            display: none;
        }

        .upload-btn {
            background: var(--primary-blue);
            color: var(--white);
            border: none;
            padding: 1rem 2rem;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .upload-btn:hover {
            background: var(--primary-yellow);
            color: var(--primary-blue);
            transform: translateY(-2px);
        }

        .files-list {
            margin-top: 2rem;
        }

        .file-item {
            background: var(--white);
            border: 2px solid var(--light-gray);
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
        }

        .file-item:hover {
            border-color: var(--primary-yellow);
            box-shadow: 0 4px 12px rgba(255, 204, 0, 0.2);
        }

        .file-item.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
        }

        .file-icon {
            font-size: 2rem;
            color: #dc3545;
        }

        .file-info {
            flex: 1;
        }

        .file-name {
            font-weight: 600;
            color: var(--primary-blue);
            margin-bottom: 0.25rem;
        }

        .file-size {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .file-actions {
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            background: var(--light-gray);
            border: none;
            padding: 0.5rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--gray);
        }

        .action-btn:hover {
            background: var(--primary-yellow);
            color: var(--primary-blue);
        }

        .action-btn.remove:hover {
            background: #dc3545;
            color: var(--white);
        }

        .drag-handle {
            cursor: move;
            color: var(--gray);
            font-size: 1.2rem;
        }

        .process-section {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 2px solid var(--light-gray);
        }

        .process-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .option-card {
            background: var(--light-gray);
            border: 2px solid transparent;
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option-card:hover {
            border-color: var(--primary-yellow);
            transform: translateY(-2px);
        }

        .option-card.selected {
            border-color: var(--primary-blue);
            background: rgba(10, 26, 63, 0.1);
        }

        .option-icon {
            font-size: 2rem;
            color: var(--primary-blue);
            margin-bottom: 1rem;
        }

        .option-title {
            font-weight: 600;
            color: var(--primary-blue);
            margin-bottom: 0.5rem;
        }

        .option-description {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .process-btn {
            background: var(--primary-yellow);
            color: var(--primary-blue);
            border: none;
            padding: 1rem 2rem;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            max-width: 300px;
            margin: 0 auto;
            display: block;
        }

        .process-btn:hover {
            background: #e6b800;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 204, 0, 0.3);
        }

        .process-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--light-gray);
            border-radius: 4px;
            overflow: hidden;
            margin: 1rem 0;
            display: none;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-blue), var(--primary-yellow));
            width: 0%;
            transition: width 0.3s ease;
        }

        .result-section {
            margin-top: 2rem;
            padding: 2rem;
            background: var(--light-gray);
            border-radius: 15px;
            text-align: center;
            display: none;
        }

        .result-icon {
            font-size: 3rem;
            color: var(--success);
            margin-bottom: 1rem;
        }

        .result-title {
            font-size: 1.5rem;
            color: var(--primary-blue);
            margin-bottom: 1rem;
        }

        .result-info {
            color: var(--gray);
            margin-bottom: 1.5rem;
        }

        .download-btn {
            background: var(--success);
            color: var(--white);
            border: none;
            padding: 1rem 2rem;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .download-btn:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        .features-section {
            padding: 4rem 0;
            background: var(--light-gray);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .feature-card {
            background: var(--white);
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            background: var(--primary-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
        }

        .feature-icon i {
            font-size: 2rem;
            color: var(--primary-yellow);
        }

        .feature-title {
            font-size: 1.3rem;
            color: var(--primary-blue);
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .feature-description {
            color: var(--gray);
            line-height: 1.6;
        }

        /* Responsividade */
        @media (max-width: 768px) {
            .pdf-tools-title {
                font-size: 2rem;
            }

            .pdf-tools-card {
                padding: 2rem;
                margin: -3rem auto 2rem;
            }

            .upload-area {
                padding: 2rem;
            }

            .process-options {
                grid-template-columns: 1fr;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .pdf-tools-card {
                padding: 1.5rem;
                margin: -2rem auto 1.5rem;
            }

            .upload-area {
                padding: 1.5rem;
            }

            .file-item {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>

<body oncontextmenu="return false" onselectstart="return false" ondragstart="return false" onkeydown="return false">
    <!-- Banner de Consentimento GDPR - LinkZin -->
    <div id="gdpr-consent" style="position:fixed;bottom:0;left:0;width:100%;background:#002147;color:#fff;padding:20px;text-align:center;z-index:9999;font-family:Arial,sans-serif;box-shadow:0 -2px 8px rgba(0,0,0,0.3);">
        <p style="margin:0 0 10px 0;font-size:14px;line-height:1.5;max-width:800px;margin-left:auto;margin-right:auto;">
            📢 Usamos cookies e tecnologias semelhantes para melhorar sua experiência, personalizar anúncios e analisar o tráfego.  
            De acordo com as leis de privacidade do Espaço Económico Europeu (EEE), Reino Unido e Suíça, pedimos seu consentimento para processar dados pessoais.  
            <a href="privacidade/" style="color:#ffd700;text-decoration:underline;">Saiba mais</a>
        </p>
        <button onclick="setConsent(true)" style="background:#ffd700;color:#002147;padding:8px 15px;border:none;border-radius:5px;cursor:pointer;margin-right:8px;font-weight:bold;">
            Aceitar
        </button>
        <button onclick="setConsent(false)" style="background:transparent;color:white;padding:8px 15px;border:1px solid white;border-radius:5px;cursor:pointer;">
            Recusar
        </button>
    </div>

    <script>
    // Lista de países EEE + UK + Suíça
    const eeeCountries = [
        "AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IT",
        "LV","LI","LT","LU","MT","NL","NO","PL","PT","RO","SK","SI","ES","SE","CH","GB"
    ];

    // Verifica localização
    fetch("https://ipapi.co/json/")
        .then(res => res.json())
        .then(data => {
            if (!eeeCountries.includes(data.country)) {
                document.getElementById('gdpr-consent').style.display = 'none';
                loadAds(); // Carrega anúncios normalmente para fora do EEE
            }
        })
        .catch(() => {
            // Se API falhar, exibe banner por segurança
        });

    // Define consentimento
    function setConsent(accepted) {
        localStorage.setItem("gdprConsent", accepted ? "granted" : "denied");
        document.getElementById("gdpr-consent").style.display = "none";
        if (accepted) {
            loadAds();
        }
    }

    // Oculta se já definido e carrega anúncios se aceitou
    if (localStorage.getItem("gdprConsent")) {
        document.getElementById("gdpr-consent").style.display = "none";
        if (localStorage.getItem("gdprConsent") === "granted") {
            loadAds();
        }
    }

    // Função para carregar anúncios do Google
    function loadAds() {
        // Ativa todos os anúncios existentes na página
        if (typeof adsbygoogle !== 'undefined') {
            (adsbygoogle = window.adsbygoogle || []).push({});
        }
    }
    </script>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="index.html">
                        <img src="LOGO_LINKZIN_005.png" alt="LinkZin" class="logo-img">
                    </a>
                </div>
                <nav class="nav">
                    <ul class="nav-list">
                        <li><a href="index.html">Início</a></li>
                        <li><a href="recursos/">Recursos</a></li>
                        <li><a href="qr-code/">Gerador de QR Code</a></li>
                        <li><a href="whatsapp/">Gerador de link WhatsApp</a></li>
                        <li><a href="pdf-tools.html" class="active">Unir PDFs</a></li>
                        <li><a href="blog/">Blog</a></li>
                    </ul>
                </nav>
                <div class="mobile-menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <!-- Hero Section -->
        <section class="pdf-tools-hero">
            <div class="pdf-tools-container">
                <h1 class="pdf-tools-title">Unir PDFs Online</h1>
                <p class="pdf-tools-subtitle">Junte, compacte e organize seus arquivos PDF de forma simples e rápida</p>
            </div>
        </section>

        <!-- PDF Tools Card -->
        <div class="pdf-tools-container">
            <div class="pdf-tools-card">
                <h2 style="text-align: center; color: var(--primary-blue); margin-bottom: 2rem; font-size: 2rem;">
                    <i class="fas fa-file-pdf" style="color: #dc3545; margin-right: 0.5rem;"></i>
                    Unir PDFs
                </h2>

                <!-- Upload Area -->
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <div class="upload-text">
                        Arraste e solte seus arquivos PDF aqui
                    </div>
                    <div class="upload-subtext">
                        ou clique para selecionar arquivos
                    </div>
                    <input type="file" id="fileInput" class="file-input" multiple accept=".pdf">
                    <button class="upload-btn" onclick="document.getElementById('fileInput').click()">
                        <i class="fas fa-folder-open"></i>
                        Selecionar Arquivos PDF
                    </button>
                </div>

                <!-- Files List -->
                <div class="files-list" id="filesList" style="display: none;">
                    <h3 style="color: var(--primary-blue); margin-bottom: 1rem;">
                        <i class="fas fa-list"></i>
                        Arquivos Selecionados
                    </h3>
                    <div id="filesContainer"></div>
                </div>

                <!-- Process Section -->
                <div class="process-section" id="processSection" style="display: none;">
                    <h3 style="color: var(--primary-blue); margin-bottom: 1.5rem; text-align: center;">
                        <i class="fas fa-cogs"></i>
                        Escolha uma Ação
                    </h3>
                    
                    <div class="process-options">
                        <div class="option-card" data-action="merge">
                            <div class="option-icon">
                                <i class="fas fa-layer-group"></i>
                            </div>
                            <div class="option-title">Juntar PDFs</div>
                            <div class="option-description">Combine múltiplos PDFs em um único arquivo</div>
                        </div>
                        
                        <div class="option-card" data-action="compress">
                            <div class="option-icon">
                                <i class="fas fa-compress-alt"></i>
                            </div>
                            <div class="option-title">Compactar PDF</div>
                            <div class="option-description">Reduza o tamanho do arquivo mantendo a qualidade</div>
                        </div>
                    </div>

                    <button class="process-btn" id="processBtn" disabled>
                        <i class="fas fa-magic"></i>
                        Processar PDFs
                    </button>

                    <div class="progress-bar" id="progressBar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>

                <!-- Result Section -->
                <div class="result-section" id="resultSection">
                    <div class="result-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="result-title">Processamento Concluído!</div>
                    <div class="result-info" id="resultInfo"></div>
                    <button class="download-btn" id="downloadBtn">
                        <i class="fas fa-download"></i>
                        Baixar PDF Processado
                    </button>
                </div>
            </div>
        </div>

        <!-- Features Section -->
        <section class="features-section">
            <div class="container">
                <h2 class="section-title">Por que usar nossas ferramentas PDF?</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3 class="feature-title">100% Seguro</h3>
                        <p class="feature-description">Seus arquivos são processados localmente no seu navegador. Nada é enviado para nossos servidores.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h3 class="feature-title">Rápido e Eficiente</h3>
                        <p class="feature-description">Processamento instantâneo sem necessidade de upload ou download de arquivos.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <h3 class="feature-title">Responsivo</h3>
                        <p class="feature-description">Funciona perfeitamente em desktop, tablet e dispositivos móveis.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-gift"></i>
                        </div>
                        <h3 class="feature-title">Totalmente Gratuito</h3>
                        <p class="feature-description">Sem limites, sem cadastro, sem custos ocultos. Use quantas vezes quiser.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Anúncio Google AdSense - Footer -->
    <div align="center" style="margin: 20px 0;">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-3026521456856935"
             data-ad-slot="1074004322"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="LOGO_LINKZIN_005.png" alt="LinkZin Logo" class="footer-logo-img">
                </div>
                <div class="footer-links">
                    <a href="index.html">Encurtador</a>
                    <a href="contador/">Contador de Cliques</a>
                    <a href="desencurtar/">Desencurtar URL</a>
                    <a href="recursos/">Sobre Nós</a>
                    <a href="denunciar/">Denunciar URL</a>
                    <a href="termos/">Termos de Serviço</a>
                    <a href="privacidade/">Privacidade</a>
                    <a href="contato/">Contato</a>
                </div>
                <div class="footer-info">
                    <p>&copy; 2025 LinkZin - Ferramenta para encurtar link ® Desenvolvido por Bruno Ulrich</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Classe principal para gerenciar as ferramentas PDF
        class PDFTools {
            constructor() {
                this.files = [];
                this.selectedAction = null;
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.setupDragAndDrop();
            }

            setupEventListeners() {
                // Upload de arquivos
                const fileInput = document.getElementById('fileInput');
                const uploadArea = document.getElementById('uploadArea');
                const processBtn = document.getElementById('processBtn');
                const downloadBtn = document.getElementById('downloadBtn');

                fileInput.addEventListener('change', (e) => this.handleFileSelect(e));
                processBtn.addEventListener('click', () => this.processFiles());
                downloadBtn.addEventListener('click', () => this.downloadResult());

                // Opções de processamento
                document.querySelectorAll('.option-card').forEach(card => {
                    card.addEventListener('click', () => this.selectAction(card));
                });
            }

            setupDragAndDrop() {
                const uploadArea = document.getElementById('uploadArea');

                uploadArea.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    uploadArea.classList.add('dragover');
                });

                uploadArea.addEventListener('dragleave', () => {
                    uploadArea.classList.remove('dragover');
                });

                uploadArea.addEventListener('drop', (e) => {
                    e.preventDefault();
                    uploadArea.classList.remove('dragover');
                    this.handleFileSelect(e);
                });
            }

            handleFileSelect(event) {
                const files = event.target.files || event.dataTransfer.files;
                const pdfFiles = Array.from(files).filter(file => file.type === 'application/pdf');

                if (pdfFiles.length === 0) {
                    this.showMessage('Por favor, selecione apenas arquivos PDF.', 'error');
                    return;
                }

                this.files = [...this.files, ...pdfFiles];
                this.displayFiles();
                this.showProcessSection();
            }

            displayFiles() {
                const filesList = document.getElementById('filesList');
                const filesContainer = document.getElementById('filesContainer');

                if (this.files.length === 0) {
                    filesList.style.display = 'none';
                    return;
                }

                filesList.style.display = 'block';
                filesContainer.innerHTML = '';

                this.files.forEach((file, index) => {
                    const fileItem = document.createElement('div');
                    fileItem.className = 'file-item';
                    fileItem.draggable = true;
                    fileItem.dataset.index = index;

                    fileItem.innerHTML = `
                        <div class="drag-handle">
                            <i class="fas fa-grip-vertical"></i>
                        </div>
                        <div class="file-icon">
                            <i class="fas fa-file-pdf"></i>
                        </div>
                        <div class="file-info">
                            <div class="file-name">${file.name}</div>
                            <div class="file-size">${this.formatFileSize(file.size)}</div>
                        </div>
                        <div class="file-actions">
                            <button class="action-btn move-up" onclick="pdfTools.moveFile(${index}, -1)">
                                <i class="fas fa-arrow-up"></i>
                            </button>
                            <button class="action-btn move-down" onclick="pdfTools.moveFile(${index}, 1)">
                                <i class="fas fa-arrow-down"></i>
                            </button>
                            <button class="action-btn remove" onclick="pdfTools.removeFile(${index})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    `;

                    // Drag and drop para reordenação
                    fileItem.addEventListener('dragstart', (e) => {
                        e.dataTransfer.setData('text/plain', index);
                        fileItem.classList.add('dragging');
                    });

                    fileItem.addEventListener('dragend', () => {
                        fileItem.classList.remove('dragging');
                    });

                    fileItem.addEventListener('dragover', (e) => {
                        e.preventDefault();
                    });

                    fileItem.addEventListener('drop', (e) => {
                        e.preventDefault();
                        const draggedIndex = parseInt(e.dataTransfer.getData('text/plain'));
                        const targetIndex = parseInt(fileItem.dataset.index);
                        this.reorderFiles(draggedIndex, targetIndex);
                    });

                    filesContainer.appendChild(fileItem);
                });
            }

            moveFile(index, direction) {
                const newIndex = index + direction;
                if (newIndex >= 0 && newIndex < this.files.length) {
                    [this.files[index], this.files[newIndex]] = [this.files[newIndex], this.files[index]];
                    this.displayFiles();
                }
            }

            removeFile(index) {
                this.files.splice(index, 1);
                this.displayFiles();
                
                if (this.files.length === 0) {
                    document.getElementById('processSection').style.display = 'none';
                }
            }

            reorderFiles(fromIndex, toIndex) {
                const file = this.files.splice(fromIndex, 1)[0];
                this.files.splice(toIndex, 0, file);
                this.displayFiles();
            }

            selectAction(card) {
                // Remover seleção anterior
                document.querySelectorAll('.option-card').forEach(c => c.classList.remove('selected'));
                
                // Selecionar nova opção
                card.classList.add('selected');
                this.selectedAction = card.dataset.action;
                
                // Habilitar botão de processar
                document.getElementById('processBtn').disabled = false;
            }

            showProcessSection() {
                document.getElementById('processSection').style.display = 'block';
            }

            async processFiles() {
                if (!this.selectedAction) {
                    this.showMessage('Por favor, selecione uma ação.', 'error');
                    return;
                }

                if (this.files.length === 0) {
                    this.showMessage('Por favor, selecione pelo menos um arquivo PDF.', 'error');
                    return;
                }

                const processBtn = document.getElementById('processBtn');
                const progressBar = document.getElementById('progressBar');
                const progressFill = document.getElementById('progressFill');

                processBtn.disabled = true;
                processBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processando...';
                progressBar.style.display = 'block';

                try {
                    let result;
                    
                    if (this.selectedAction === 'merge') {
                        result = await this.mergePDFs();
                    } else if (this.selectedAction === 'compress') {
                        result = await this.compressPDF();
                    }

                    this.showResult(result);
                } catch (error) {
                    console.error('Erro ao processar PDFs:', error);
                    this.showMessage('Erro ao processar os arquivos. Tente novamente.', 'error');
                } finally {
                    processBtn.disabled = false;
                    processBtn.innerHTML = '<i class="fas fa-magic"></i> Processar PDFs';
                    progressBar.style.display = 'none';
                }
            }

            async mergePDFs() {
                const { PDFDocument } = PDFLib;
                const mergedPdf = await PDFDocument.create();

                for (let i = 0; i < this.files.length; i++) {
                    const file = this.files[i];
                    const arrayBuffer = await file.arrayBuffer();
                    const pdf = await PDFDocument.load(arrayBuffer);
                    const pages = await mergedPdf.copyPages(pdf, pdf.getPageIndices());
                    pages.forEach(page => mergedPdf.addPage(page));
                    
                    // Atualizar progresso
                    const progress = ((i + 1) / this.files.length) * 100;
                    document.getElementById('progressFill').style.width = `${progress}%`;
                }

                const pdfBytes = await mergedPdf.save();
                return new Blob([pdfBytes], { type: 'application/pdf' });
            }

            async compressPDF() {
                if (this.files.length !== 1) {
                    throw new Error('Para compactar, selecione apenas um arquivo PDF.');
                }

                const file = this.files[0];
                const arrayBuffer = await file.arrayBuffer();
                const { PDFDocument } = PDFLib;
                const pdf = await PDFDocument.load(arrayBuffer);
                
                // Simular compressão (em uma implementação real, você usaria bibliotecas de compressão)
                const pdfBytes = await pdf.save({
                    useObjectStreams: true,
                    addDefaultPage: false
                });

                return new Blob([pdfBytes], { type: 'application/pdf' });
            }

            showResult(result) {
                this.processedFile = result;
                const resultSection = document.getElementById('resultSection');
                const resultInfo = document.getElementById('resultInfo');
                
                const originalSize = this.files.reduce((total, file) => total + file.size, 0);
                const compressedSize = result.size;
                const compressionRatio = ((originalSize - compressedSize) / originalSize * 100).toFixed(1);

                resultInfo.innerHTML = `
                    <p><strong>Arquivos processados:</strong> ${this.files.length}</p>
                    <p><strong>Tamanho original:</strong> ${this.formatFileSize(originalSize)}</p>
                    <p><strong>Tamanho final:</strong> ${this.formatFileSize(compressedSize)}</p>
                    ${this.selectedAction === 'compress' ? `<p><strong>Redução:</strong> ${compressionRatio}%</p>` : ''}
                `;

                resultSection.style.display = 'block';
                resultSection.scrollIntoView({ behavior: 'smooth' });
            }

            downloadResult() {
                if (!this.processedFile) return;

                const url = URL.createObjectURL(this.processedFile);
                const a = document.createElement('a');
                a.href = url;
                a.download = `pdf-processado-${Date.now()}.pdf`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }

            formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }

            showMessage(message, type = 'info') {
                // Remover mensagens anteriores
                const existingMessages = document.querySelectorAll('.message');
                existingMessages.forEach(msg => msg.remove());

                // Criar nova mensagem
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${type}`;
                messageDiv.textContent = message;
                messageDiv.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    padding: 1rem 1.5rem;
                    border-radius: 8px;
                    color: white;
                    font-weight: 500;
                    z-index: 10000;
                    max-width: 300px;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                `;

                if (type === 'error') {
                    messageDiv.style.background = '#dc3545';
                } else if (type === 'success') {
                    messageDiv.style.background = '#28a745';
                } else {
                    messageDiv.style.background = '#17a2b8';
                }

                document.body.appendChild(messageDiv);

                // Remover mensagem após 5 segundos
                setTimeout(() => {
                    if (messageDiv.parentNode) {
                        messageDiv.remove();
                    }
                }, 5000);
            }
        }

        // Inicializar aplicação
        document.addEventListener('DOMContentLoaded', function() {
            window.pdfTools = new PDFTools();
        });

        // Configurar menu mobile
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
            const nav = document.querySelector('.nav');

            if (mobileMenuToggle && nav) {
                mobileMenuToggle.addEventListener('click', () => {
                    nav.classList.toggle('active');
                });
            }
        });
    </script>
</body>

</html>
